DATA SEGMENT

PORTA EQU 00H        ;ADDRESS OF PORTA
PORTB EQU 02H        ;ADDRESS OF PORTB
PORTC EQU 04H        ;ADDRESS OF PORD
CONFIG EQU 06H        ;ADDRESS OF CONFIG

ENDS
CODE SEGMENT

ORG 100H

MOV DX, CONFIG
MOV AL, 10000000B       ; PORTA=OUT/MODE 0, PORTB=OUT/MODE 0, PORTC OUT
OUT DX, AL

START:

;1/
MOV DX, PORTA
MOV AL, 01010100B       ; FOR CONTROL LED IN TRAFFIC LIGHT
OUT DX, AL

MOV DX, PORTB
MOV AL, 01001001B
OUT DX, AL

CALL DEALY              ; DEALY HERE BY SUBROUTINE

;2/
MOV DX, PORTA
MOV AL, 01100001B
OUT DX, AL

MOV DX, PORTB
MOV AL, 01001010B
OUT DX, AL

CALL DEALY

;3/
MOV DX, PORTA
MOV AL, 01001001B
OUT DX, AL

MOV DX, PORTB
MOV AL, 01010100B
OUT DX, AL

CALL DEALY

;4/
MOV DX, PORTA
MOV AL, 10001001B
OUT DX, AL

MOV DX, PORTB
MOV AL, 00100001B
OUT DX, AL

CALL DEALY

;5/
MOV DX, PORTA
MOV AL, 00001010B
OUT DX, AL

MOV DX, PORTB
MOV AL, 10001001B
OUT DX, AL

CALL DEALY

JMP START        ;LOOP FOR EVER

S1  DB 10010000B
DB 10000000B
DB 11011000B
DB 10000010B    ;FOR CONTROL LED FROM 7_SEGMENT
DB 10010010B
DB 10011001B    ; FOR VIEW THE NUMBER
DB 10110000B
DB 10100100B
DB 11111001B
DB 11000000B

CODE ENDS

DEALY:

MOV SI, 0

L0: MOV CX, 0FH
L1: MOV AL, S1[SI]    ;FOR VIEW THE CONTAIN S1 BY INCREMENT POINTER SI
MOV DX, PORTC
OUT DX, AL
LOOP L1                ;FOR DEALY THE CONTER INTO THE 7_SEGMEMENT

INC SI
CMP SI, 10
JL L0
RET

END

